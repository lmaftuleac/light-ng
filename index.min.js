"use strict";!function(){function n(){this.__lightNgModule=!0,this.store={},this.pending=[],this.running=!1}function e(e){if(!e)throw"lightNg moduleName Required";var i=t[e];return i?i:(i=new n,t[e]=i,i)}var t={};n.prototype._getInjectables=function(n){for(var e=this,t=[],i=0;i<n.length;i++){if("string"!=typeof n[i])throw"Unknown type in injector: "+n[i];if(!e.store[n[i]])throw"Unknown provider : '"+n[i]+"'";t.push(e.store[n[i]])}return t},n.prototype._initiateService=function(n){var e=this,t=n.name,i=e._getInjectables(n.dependencies),r=n.operation,o=function(n){return r.apply(this,n),this};e.store[t]=new o(i)},n.prototype._initiateFactory=function(n){var e=this,t=n.name,i=e._getInjectables(n.dependencies),r=n.operation;e.store[t]=r.apply(this,i)},n.prototype._initiateController=function(n){var e=this,t=n.name,i=e._getInjectables(n.dependencies),r=n.operation;e.store[t]=function(){r.apply(this,i),r=function(){throw"Controller "+t+" cannot be initiated more than once"}}},n.prototype._initiateRunner=function(n){var e=this,t=e._getInjectables(n.dependencies),i=n.operation;i.apply(this,t)},n.prototype.provider=function(n,e){var t=this;if("function"!=typeof e)throw'Provider constructor for "'+n+'" is not a function';return t.store[n]=e(),t},n.prototype.service=function(n,e){var t=this,i={constructor:t._initiateService,name:n,operation:e.pop(),dependencies:e};return t.running?_.self._initiateService(i):t.pending.push(i),t},n.prototype.factory=function(n,e){var t=this,i={constructor:t._initiateFactory,name:n,operation:e.pop(),dependencies:e};return t.running?t._initiateFactory(i):t.pending.push(i),t},n.prototype.controller=function(n,e){var t=this,i={constructor:t._initiateController,name:n,operation:e.pop(),dependencies:e};return t.running?t._initiateController(i):t.pending.push(i),t},n.prototype.run=function(n){var e=this,t={constructor:e._initiateRunner,operation:n.pop(),dependencies:n};return e.running?e._initiateRunner(t):e.pending.push(t),e},n.prototype.build=function(){var n=this;if(!n.running){n.running=!0;for(var e,t,i;n.pending.length>0;){i=n.pending.length;for(var r=0;r<n.pending.length;r++){if(e=n.pending[r],t=!0,e.dependencies.length){for(var o=0;o<e.dependencies.length;o++)if(!n.store.hasOwnProperty(e.dependencies[o])){t=!1;break}}else t=!0;if(t){if("function"!=typeof e.constructor)throw'Unknown constructor for "'+e.name+'"';e.constructor.call(n,e),n.pending.splice(r,1),r-=1}}if(i===n.pending.length){for(var p=[],a=0;a<n.pending.length;a++)p.push(n.pending[a].name);var s="Circular Dependency Detected somewhere in "+p.join(",");throw s}}return n}},n.prototype.extend=function(n,e){var t=this;return t[n]=e,t},n.prototype.include=function(n){var e=this;if(e.running)throw"Cannot load modules after .build()";var i=t[n];if("object"!=typeof i)throw"Faild Loading module, unknow data type";var r=i.store;for(var o in r)if(r.hasOwnProperty(o)){if(e.store[o])throw"'"+o+"' already exists, check namings and try again";e.store[o]=r[o]}for(var p=i.pending,a=0;a<p.length;a++)e.pending.push(p[a]);return e},e.noop=function(){},"undefined"!=typeof module&&module.exports?module.exports=e:window.lightNg=e}();